[
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4045",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4045/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4045/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4045/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4045",
    "id": 327158263,
    "number": 4045,
    "title": "'stack test --no-run-benchmarks' doesn't build the all benchmarks",
    "user": {
      "login": "erikd",
      "id": 307277,
      "avatar_url": "https://avatars0.githubusercontent.com/u/307277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erikd",
      "html_url": "https://github.com/erikd",
      "followers_url": "https://api.github.com/users/erikd/followers",
      "following_url": "https://api.github.com/users/erikd/following{/other_user}",
      "gists_url": "https://api.github.com/users/erikd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erikd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erikd/subscriptions",
      "organizations_url": "https://api.github.com/users/erikd/orgs",
      "repos_url": "https://api.github.com/users/erikd/repos",
      "events_url": "https://api.github.com/users/erikd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erikd/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-29T03:22:23Z",
    "updated_at": "2018-05-29T06:51:57Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "Using stack version 1.7.1 (current latest).\r\n\r\n### General summary/comments (optional)\r\n\r\nThe `--no-run-benckmarks` option to the `test` command does not work as described in the `stack test --help` output.\r\n```\r\n> stack test --help | grep -1 run-benchmarks\r\n                  [--no-run-tests] [--[no-]bench]\r\n                  [--ba|--benchmark-arguments BENCH_ARGS] [--no-run-benchmarks]\r\n                  [--[no-]reconfigure] [--[no-]cabal-verbose]\r\n--\r\n                           templates from `cabal bench`\r\n  --no-run-benchmarks      Disable running of benchmarks. (Benchmarks will still\r\n                           be built.)\r\n```\r\n\r\n### Steps to reproduce\r\n\r\nThis passes:\r\n```\r\nhttps://github.com/input-output-hk/cardano-sl\r\ncd cardano-sl\r\ngit checkout c3a292fee627bc9e76bb5b4896df59471a4dbdc4 -b current-develop\r\nstack test --no-run-benchmarks cardano-sl\r\n```\r\nbut then this:\r\n```\r\nstack bench --no-run-benchmarks cardano-sl\r\n```\r\nfails with a build error (in one of the benchmarks) that should have been caught by the `stack test --no-run-benchmarks` command.\r\n\r\n### Expected\r\n\r\nIn this case, since there actually is a build error when building the benchmarks, `stack test --no-run-benchmarks` should exit with a non-zero exit code. This is important because we want changes in libraries that break the benchmarks to be caught in CI.\r\n\r\n### Actual\r\n\r\nThe 'stack test --no-run-benchmarks' command doesn't build the all benchmarks and therefore does not fail the CI build.\r\n\r\n### Stack version\r\n\r\n```\r\n> stack --version | head\r\nVersion 1.7.1, Git revision c4ec53e3807cc7a768cc833a3dd41b9d4db60d72 (dirty) (3 commits) x86_64\r\nCompiled with:\r\n- Cabal-2.2.0.1\r\n- Glob-0.9.2\r\n- HUnit-1.6.0.0\r\n- QuickCheck-2.11.3\r\n- StateVar-1.1.1.0\r\n- aeson-1.2.4.0\r\n- aeson-compat-0.3.7.1\r\n- annotated-wl-pprint-0.7.0\r\n```\r\n\r\nThe git version above is not the git version of stack, but rather the git version of the repository where I keep metadata for creating a Debian package for my own use. My packaging metadata builds the version specified from the Hackage tarball.\r\n\r\n### Method of installation\r\n\r\n* Via cabal-install\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4044",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4044/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4044/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4044/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4044",
    "id": 326908505,
    "number": 4044,
    "title": "no-run-tests in stack.yaml does nothing",
    "user": {
      "login": "pacak",
      "id": 66211,
      "avatar_url": "https://avatars3.githubusercontent.com/u/66211?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pacak",
      "html_url": "https://github.com/pacak",
      "followers_url": "https://api.github.com/users/pacak/followers",
      "following_url": "https://api.github.com/users/pacak/following{/other_user}",
      "gists_url": "https://api.github.com/users/pacak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pacak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pacak/subscriptions",
      "organizations_url": "https://api.github.com/users/pacak/orgs",
      "repos_url": "https://api.github.com/users/pacak/repos",
      "events_url": "https://api.github.com/users/pacak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pacak/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 414685075,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/component:%20build",
        "name": "component: build",
        "color": "bfdadc",
        "default": false
      },
      {
        "id": 223968137,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/component:%20documentation",
        "name": "component: documentation",
        "color": "bfdadc",
        "default": false
      },
      {
        "id": 205827131,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/type:%20bug",
        "name": "type: bug",
        "color": "eb6420",
        "default": false
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "mattaudesse",
      "id": 3409214,
      "avatar_url": "https://avatars3.githubusercontent.com/u/3409214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattaudesse",
      "html_url": "https://github.com/mattaudesse",
      "followers_url": "https://api.github.com/users/mattaudesse/followers",
      "following_url": "https://api.github.com/users/mattaudesse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattaudesse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattaudesse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattaudesse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattaudesse/orgs",
      "repos_url": "https://api.github.com/users/mattaudesse/repos",
      "events_url": "https://api.github.com/users/mattaudesse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattaudesse/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "mattaudesse",
        "id": 3409214,
        "avatar_url": "https://avatars3.githubusercontent.com/u/3409214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mattaudesse",
        "html_url": "https://github.com/mattaudesse",
        "followers_url": "https://api.github.com/users/mattaudesse/followers",
        "following_url": "https://api.github.com/users/mattaudesse/following{/other_user}",
        "gists_url": "https://api.github.com/users/mattaudesse/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mattaudesse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mattaudesse/subscriptions",
        "organizations_url": "https://api.github.com/users/mattaudesse/orgs",
        "repos_url": "https://api.github.com/users/mattaudesse/repos",
        "events_url": "https://api.github.com/users/mattaudesse/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mattaudesse/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-05-28T06:15:13Z",
    "updated_at": "2018-05-28T19:16:10Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "https://github.com/commercialhaskell/stack/blob/master/doc/yaml_configuration.md suggests that it's possible to disable running tests after building them however \r\n\r\nhaving\r\n```\r\nbuild:\r\n  test-arguments:\r\n    no-run-tests: true\r\n```\r\nor \r\n\r\n```\r\nbuild:\r\n  test-arguments:\r\n    no-run-tests: false\r\n```\r\n\r\ninside stack.yaml does nothing: `stack build foo:test` results in compiling test executable (expected) and running it (unexpected)."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4043",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4043/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4043/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4043/events",
    "html_url": "https://github.com/commercialhaskell/stack/pull/4043",
    "id": 326898629,
    "number": 4043,
    "title": "msys2 upgrade instructions",
    "user": {
      "login": "snoyberg",
      "id": 49415,
      "avatar_url": "https://avatars3.githubusercontent.com/u/49415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/snoyberg",
      "html_url": "https://github.com/snoyberg",
      "followers_url": "https://api.github.com/users/snoyberg/followers",
      "following_url": "https://api.github.com/users/snoyberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/snoyberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/snoyberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snoyberg/subscriptions",
      "organizations_url": "https://api.github.com/users/snoyberg/orgs",
      "repos_url": "https://api.github.com/users/snoyberg/repos",
      "events_url": "https://api.github.com/users/snoyberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/snoyberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 223968137,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/component:%20documentation",
        "name": "component: documentation",
        "color": "bfdadc",
        "default": false
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-28T05:14:54Z",
    "updated_at": "2018-05-29T03:19:02Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "pull_request": {
      "url": "https://api.github.com/repos/commercialhaskell/stack/pulls/4043",
      "html_url": "https://github.com/commercialhaskell/stack/pull/4043",
      "diff_url": "https://github.com/commercialhaskell/stack/pull/4043.diff",
      "patch_url": "https://github.com/commercialhaskell/stack/pull/4043.patch"
    },
    "body": ""
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4042",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4042/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4042/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4042/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4042",
    "id": 326836349,
    "number": 4042,
    "title": "Add configurable `stack watch`?",
    "user": {
      "login": "Anrock",
      "id": 1689392,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1689392?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Anrock",
      "html_url": "https://github.com/Anrock",
      "followers_url": "https://api.github.com/users/Anrock/followers",
      "following_url": "https://api.github.com/users/Anrock/following{/other_user}",
      "gists_url": "https://api.github.com/users/Anrock/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Anrock/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Anrock/subscriptions",
      "organizations_url": "https://api.github.com/users/Anrock/orgs",
      "repos_url": "https://api.github.com/users/Anrock/repos",
      "events_url": "https://api.github.com/users/Anrock/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Anrock/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 414685075,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/component:%20build",
        "name": "component: build",
        "color": "bfdadc",
        "default": false
      },
      {
        "id": 222272034,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/type:%20discuss",
        "name": "type: discuss",
        "color": "fad8c7",
        "default": false
      },
      {
        "id": 205827133,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/type:%20enhancement",
        "name": "type: enhancement",
        "color": "fad8c7",
        "default": false
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": {
      "login": "mattaudesse",
      "id": 3409214,
      "avatar_url": "https://avatars3.githubusercontent.com/u/3409214?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mattaudesse",
      "html_url": "https://github.com/mattaudesse",
      "followers_url": "https://api.github.com/users/mattaudesse/followers",
      "following_url": "https://api.github.com/users/mattaudesse/following{/other_user}",
      "gists_url": "https://api.github.com/users/mattaudesse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mattaudesse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mattaudesse/subscriptions",
      "organizations_url": "https://api.github.com/users/mattaudesse/orgs",
      "repos_url": "https://api.github.com/users/mattaudesse/repos",
      "events_url": "https://api.github.com/users/mattaudesse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mattaudesse/received_events",
      "type": "User",
      "site_admin": false
    },
    "assignees": [
      {
        "login": "mattaudesse",
        "id": 3409214,
        "avatar_url": "https://avatars3.githubusercontent.com/u/3409214?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mattaudesse",
        "html_url": "https://github.com/mattaudesse",
        "followers_url": "https://api.github.com/users/mattaudesse/followers",
        "following_url": "https://api.github.com/users/mattaudesse/following{/other_user}",
        "gists_url": "https://api.github.com/users/mattaudesse/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mattaudesse/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mattaudesse/subscriptions",
        "organizations_url": "https://api.github.com/users/mattaudesse/orgs",
        "repos_url": "https://api.github.com/users/mattaudesse/repos",
        "events_url": "https://api.github.com/users/mattaudesse/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mattaudesse/received_events",
        "type": "User",
        "site_admin": false
      }
    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-27T18:01:59Z",
    "updated_at": "2018-05-28T16:46:56Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "So i'm running `stack build --file-watch --fast --haddock --haddock-deps --haddock-internal --haddock-hyperlink-source --test --rerun-tests --exec \"echo All good!\"`. \r\n\r\nThis is long to type and i sometimes forget to add an argument for something.\r\n\r\nIt would be much easier if i could store this to config and run it using some short command.\r\n\r\nFor example:\r\n1. Add a `watch` field to stack.yaml, similar to\r\n```\r\n...\r\nwatch:\r\n  - fast\r\n  - haddock\r\n  - haddock-deps\r\n  - haddock-internal\r\n  - haddock-deps\r\n  - haddock-hyperlink-source\r\n  - test\r\n  - rerun-tests\r\n  - exec: echo All good!\r\n...\r\n```\r\n2. Run `stack watch`\r\n3. Stack reads `watch` field from stack.yaml\r\n4. If it's present and non-empty - checks that all commands are valid, otherwise issues a warning and ignores invalid command\r\n5. Does what it usually does when `stack build --file-watch {insert contents from watch field}` is run.\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4040",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4040/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4040/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4040/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4040",
    "id": 326693819,
    "number": 4040,
    "title": "Adding a new module to a project and running `app/DevelMain.update` fails",
    "user": {
      "login": "bitemyapp",
      "id": 320177,
      "avatar_url": "https://avatars2.githubusercontent.com/u/320177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitemyapp",
      "html_url": "https://github.com/bitemyapp",
      "followers_url": "https://api.github.com/users/bitemyapp/followers",
      "following_url": "https://api.github.com/users/bitemyapp/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitemyapp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitemyapp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitemyapp/subscriptions",
      "organizations_url": "https://api.github.com/users/bitemyapp/orgs",
      "repos_url": "https://api.github.com/users/bitemyapp/repos",
      "events_url": "https://api.github.com/users/bitemyapp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitemyapp/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 205827131,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/type:%20bug",
        "name": "type: bug",
        "color": "eb6420",
        "default": false
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-26T00:13:35Z",
    "updated_at": "2018-05-28T16:11:13Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "```\r\nPrelude> update\r\nghc: panic! (the 'impossible' happened)\r\n  (GHC version 8.2.2 for x86_64-unknown-linux):\r\n\tLoading temp shared object failed: /tmp/ghc16656_0/libghc_9.so: undefined symbol: HandlerziAuthziViews_renderLogin_closure\r\n\r\nPlease report this as a GHC bug:  http://www.haskell.org/ghc/reportabug\r\n```\r\n\r\nCommit used was eeec8dfa7798175c619390e469ac5d85d6d07a6f\r\n\r\nI added a new module, it was automatically pulled into other modules. My modules would already be compiled, so I'd run `:load app/DevelMain.hs` and then `update` to rerun my Yesod application and I got the above error.\r\n\r\nI could probably reproduce this using https://github.com/fpco/badgers if desired. `stack clean` didn't fix it, I was in the middle of something so I didn't have time to try other things."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4039",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4039/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4039/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4039/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4039",
    "id": 326189231,
    "number": 4039,
    "title": "Namespaced templates",
    "user": {
      "login": "snoyberg",
      "id": 49415,
      "avatar_url": "https://avatars3.githubusercontent.com/u/49415?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/snoyberg",
      "html_url": "https://github.com/snoyberg",
      "followers_url": "https://api.github.com/users/snoyberg/followers",
      "following_url": "https://api.github.com/users/snoyberg/following{/other_user}",
      "gists_url": "https://api.github.com/users/snoyberg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/snoyberg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/snoyberg/subscriptions",
      "organizations_url": "https://api.github.com/users/snoyberg/orgs",
      "repos_url": "https://api.github.com/users/snoyberg/repos",
      "events_url": "https://api.github.com/users/snoyberg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/snoyberg/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 308405439,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/component:%20new%20/%20init%20/%20solver",
        "name": "component: new / init / solver",
        "color": "bfdadc",
        "default": false
      },
      {
        "id": 205827134,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/help%20wanted",
        "name": "help wanted",
        "color": "fef2c0",
        "default": true
      },
      {
        "id": 205827133,
        "url": "https://api.github.com/repos/commercialhaskell/stack/labels/type:%20enhancement",
        "name": "type: enhancement",
        "color": "fad8c7",
        "default": false
      }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": {
      "url": "https://api.github.com/repos/commercialhaskell/stack/milestones/6",
      "html_url": "https://github.com/commercialhaskell/stack/milestone/6",
      "labels_url": "https://api.github.com/repos/commercialhaskell/stack/milestones/6/labels",
      "id": 1191309,
      "number": 6,
      "title": "P2: Should",
      "description": "Arbitrary date chosen, just to get the milestones to order nicely",
      "creator": {
        "login": "snoyberg",
        "id": 49415,
        "avatar_url": "https://avatars3.githubusercontent.com/u/49415?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/snoyberg",
        "html_url": "https://github.com/snoyberg",
        "followers_url": "https://api.github.com/users/snoyberg/followers",
        "following_url": "https://api.github.com/users/snoyberg/following{/other_user}",
        "gists_url": "https://api.github.com/users/snoyberg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/snoyberg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/snoyberg/subscriptions",
        "organizations_url": "https://api.github.com/users/snoyberg/orgs",
        "repos_url": "https://api.github.com/users/snoyberg/repos",
        "events_url": "https://api.github.com/users/snoyberg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/snoyberg/received_events",
        "type": "User",
        "site_admin": false
      },
      "open_issues": 242,
      "closed_issues": 365,
      "state": "open",
      "created_at": "2015-07-02T18:20:49Z",
      "updated_at": "2018-05-24T20:06:23Z",
      "due_on": "2016-12-31T08:00:00Z",
      "closed_at": null
    },
    "comments": 7,
    "created_at": "2018-05-24T16:03:32Z",
    "updated_at": "2018-05-25T18:48:03Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "__Problem__ There is no clear criteria right now for which templates should be included in the `stack-templates` repo. No one person has control over this repo, making it difficult for tutorial authors to rely on it in their documentation. The output of `stack templates` can be overwhelming.\r\n\r\n__Proposed solution__ Introduce namespacing into the template concept. There definitely room to modify this, but as an initial proposal that keeps backwards compatibility, let's consider:\r\n\r\n* A template name `github:username/template` can be found on the repo `https://github.com/username/stack-templates`, on the master branch, in the file `template.hsfiles`\r\n* The `github:` leader is for future proofing, if someone wants to add support for Gitlab, Bitbucket, or others\r\n* If `github:` is left off, it is filled in automatically, so that `username/template` is treated as `github:username/template`\r\n* Similarly, if the username namespacing is left off, e.g. `template`, the assumed username is `commercialhaskell`, falling back to the current behavior\r\n\r\nThen, as an example, the Yesod templates could end up being referred to as `yesodweb/postgres`, etc.\r\n\r\nTo deal with the overwhelming output from `stack templates`: what if we have a `README.md` or similar file in `commercialhaskell/stack-templates` which is downloaded and displayed to the user explaining a few of the common templates, and then pointing to a Wiki page or similar where people can share more templates."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4036",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4036/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4036/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4036/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4036",
    "id": 325531439,
    "number": 4036,
    "title": "\"stack haddock\" results in haddock crashing",
    "user": {
      "login": "jchia",
      "id": 446676,
      "avatar_url": "https://avatars0.githubusercontent.com/u/446676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jchia",
      "html_url": "https://github.com/jchia",
      "followers_url": "https://api.github.com/users/jchia/followers",
      "following_url": "https://api.github.com/users/jchia/following{/other_user}",
      "gists_url": "https://api.github.com/users/jchia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jchia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jchia/subscriptions",
      "organizations_url": "https://api.github.com/users/jchia/orgs",
      "repos_url": "https://api.github.com/users/jchia/repos",
      "events_url": "https://api.github.com/users/jchia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jchia/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-05-23T02:57:30Z",
    "updated_at": "2018-05-23T15:39:14Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "### General summary/comments\r\nRunning `stack haddock` results in failure (ExitFailure (-11), i.e. segfault) when building haddock for haskell-src-exts. I believe haddock segfaulted.  It's probably a haddock bug, since it crashed, but I don't know how to distill the test case to just an invocation of haddock. If someone knows how to distill and file a haddock bug, please do so.\r\n\r\n### Steps to reproduce\r\n1. Start with a fresh installation (official stack binary installed, no ~/.stack/ directory)\r\n2. `stack new --resolver=nightly-2018-05-22 test`\r\n3. `cd test`\r\n4. Edit package.yaml, adding haskell-src-exts to dependencies.\r\n5. `stack haddock` and witness the crash.\r\n\r\n### Expected\r\n\r\n`stack haddock` succeeds with normal exit code.\r\n\r\n### Actual\r\n\r\n`stack haddock -v` ends like this:\r\n\r\n```\r\n2018-05-23 09:50:28.287257: [debug] Run process within /tmp/stack32381/haskell-src-exts-1.20.2/: /home/tester/.stack/setup-exe-cache/x86_64-linux/Cabal-simple_mPHDZzAJ_2.2.0.1_ghc-8.4.2 --builddir=.stack-work/dist/x86_64-linux/Cabal-2.2.0.1 haddock --html --hoogle --html-location=../$pkg-$version/ --haddock-option=--hyperlinked-source\r\n@(src/Stack/Build/Execute.hs:1133:29)\r\nProgress 1/2\r\n\r\n--  While building custom Setup.hs for package haskell-src-exts-1.20.2 using:\r\n      /home/tester/.stack/setup-exe-cache/x86_64-linux/Cabal-simple_mPHDZzAJ_2.2.0.1_ghc-8.4.2 --builddir=.stack-work/dist/x86_64-linux/Cabal-2.2.0.1 haddock --html --hoogle --html-location=../$pkg-$version/ --haddock-option=--hyperlinked-source\r\n    Process exited with code: ExitFailure (-11)\r\n    Logs have been written to: /home/tester/hs/test/.stack-work/logs/haskell-src-exts-1.20.2.log\r\n\r\n    Configuring haskell-src-exts-1.20.2...\r\n    Preprocessing library for haskell-src-exts-1.20.2..\r\n    Building library for haskell-src-exts-1.20.2..\r\n    [ 1 of 17] Compiling Language.Haskell.Exts.Extension ( src/Language/Haskell/Exts/Extension.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Extension.o )\r\n    [ 2 of 17] Compiling Language.Haskell.Exts.ExtScheme ( src/Language/Haskell/Exts/ExtScheme.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/ExtScheme.o )\r\n    [ 3 of 17] Compiling Language.Haskell.Exts.SrcLoc ( src/Language/Haskell/Exts/SrcLoc.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/SrcLoc.o )\r\n    [ 4 of 17] Compiling Language.Haskell.Exts.Syntax ( src/Language/Haskell/Exts/Syntax.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Syntax.o )\r\n    [ 5 of 17] Compiling Language.Haskell.Exts.ParseSyntax ( src/Language/Haskell/Exts/ParseSyntax.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/ParseSyntax.o )\r\n    [ 6 of 17] Compiling Language.Haskell.Exts.Pretty ( src/Language/Haskell/Exts/Pretty.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Pretty.o )\r\n    [ 7 of 17] Compiling Language.Haskell.Exts.Fixity ( src/Language/Haskell/Exts/Fixity.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Fixity.o )\r\n    [ 8 of 17] Compiling Language.Haskell.Exts.Comments ( src/Language/Haskell/Exts/Comments.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Comments.o )\r\n    [ 9 of 17] Compiling Language.Haskell.Exts.ParseMonad ( src/Language/Haskell/Exts/ParseMonad.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/ParseMonad.o )\r\n    [10 of 17] Compiling Language.Haskell.Exts.ParseUtils ( src/Language/Haskell/Exts/ParseUtils.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/ParseUtils.o )\r\n    [11 of 17] Compiling Language.Haskell.Exts.InternalLexer ( src/Language/Haskell/Exts/InternalLexer.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/InternalLexer.o )\r\n    [12 of 17] Compiling Language.Haskell.Exts.Lexer ( src/Language/Haskell/Exts/Lexer.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Lexer.o )\r\n    [13 of 17] Compiling Language.Haskell.Exts.InternalParser ( .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/InternalParser.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/InternalParser.o )\r\n    [14 of 17] Compiling Language.Haskell.Exts.Parser ( src/Language/Haskell/Exts/Parser.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Parser.o )\r\n    [15 of 17] Compiling Language.Haskell.Exts.ExactPrint ( src/Language/Haskell/Exts/ExactPrint.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/ExactPrint.o )\r\n    [16 of 17] Compiling Language.Haskell.Exts.Build ( src/Language/Haskell/Exts/Build.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts/Build.o )\r\n    [17 of 17] Compiling Language.Haskell.Exts ( src/Language/Haskell/Exts.hs, .stack-work/dist/x86_64-linux/Cabal-2.2.0.1/build/Language/Haskell/Exts.o )\r\n    Preprocessing library for haskell-src-exts-1.20.2..\r\n    Running Haddock on library for haskell-src-exts-1.20.2..\r\n```\r\n\r\nThere is no other interesting error information I can see, but it's clear from `dmesg` that haddock had a segfault.\r\n\r\nI think the bug is version-specific (maybe GHC version-specific). It doesn't repro with lts-11.\r\n\r\n### Stack version\r\n\r\n```\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\n### Method of installation\r\n Official stack 1.7.1 binary, no system Haskell installed.\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4035",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4035/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4035/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4035/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4035",
    "id": 325447703,
    "number": 4035,
    "title": "Lots of rebuilds when using ghcjs, but why?  --verbose doesn't tell.",
    "user": {
      "login": "alexanderkjeldaas",
      "id": 339369,
      "avatar_url": "https://avatars3.githubusercontent.com/u/339369?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexanderkjeldaas",
      "html_url": "https://github.com/alexanderkjeldaas",
      "followers_url": "https://api.github.com/users/alexanderkjeldaas/followers",
      "following_url": "https://api.github.com/users/alexanderkjeldaas/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexanderkjeldaas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexanderkjeldaas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexanderkjeldaas/subscriptions",
      "organizations_url": "https://api.github.com/users/alexanderkjeldaas/orgs",
      "repos_url": "https://api.github.com/users/alexanderkjeldaas/repos",
      "events_url": "https://api.github.com/users/alexanderkjeldaas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexanderkjeldaas/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-22T20:19:00Z",
    "updated_at": "2018-05-23T18:26:56Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "I have a CI server where some code is built using ghc and other using ghcjs.  In the ghcjs case, lots of packages seems to be re-built.\r\n\r\nThe problem is that `--verbose` doesn't specify *why* a package is being unregistered and rebuilt.  I need to understand why that is, so I can fix the problem.\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4034",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4034/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4034/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4034/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4034",
    "id": 325330654,
    "number": 4034,
    "title": "stack setup do not work on void linux",
    "user": {
      "login": "Fi3",
      "id": 6207037,
      "avatar_url": "https://avatars2.githubusercontent.com/u/6207037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Fi3",
      "html_url": "https://github.com/Fi3",
      "followers_url": "https://api.github.com/users/Fi3/followers",
      "following_url": "https://api.github.com/users/Fi3/following{/other_user}",
      "gists_url": "https://api.github.com/users/Fi3/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Fi3/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Fi3/subscriptions",
      "organizations_url": "https://api.github.com/users/Fi3/orgs",
      "repos_url": "https://api.github.com/users/Fi3/repos",
      "events_url": "https://api.github.com/users/Fi3/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Fi3/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 7,
    "created_at": "2018-05-22T14:51:45Z",
    "updated_at": "2018-05-23T22:06:16Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "### Steps to reproduce\r\n\r\n1. Install stack 1.7.1 with `nix-env -i stack\r\n2. Create a project with `stack new project`\r\n3. Setup with `stack setup`\r\n\r\n### Expected\r\n\r\nNo errors.\r\n\r\n### Actual\r\n\r\n```\r\n$ stack setup -v\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n2018-05-22 15:49:25.735009: [debug] Checking for project config at: /home/fi3/trash/project/stack.yaml\r\n@(src/Stack/Config.hs:850:9)\r\n2018-05-22 15:49:25.735276: [debug] Loading project config file stack.yaml\r\n@(src/Stack/Config.hs:876:13)\r\n2018-05-22 15:49:25.737038: [debug] Decoding build plan from: /home/fi3/.stack/build-plan/lts-11.10.yaml\r\n@(src/Stack/Snapshot.hs:164:5)\r\n2018-05-22 15:49:25.737178: [debug] Trying to decode /home/fi3/.stack/build-plan-cache/lts-11.10.cache\r\n@(src/Stack/Snapshot.hs:156:32)\r\n2018-05-22 15:49:25.741240: [debug] Success decoding /home/fi3/.stack/build-plan-cache/lts-11.10.cache\r\n@(src/Stack/Snapshot.hs:156:32)\r\n2018-05-22 15:49:25.741865: [debug] Run process: /sbin/ldconfig -p\r\n@(src/Stack/Setup.hs:580:22)\r\n2018-05-22 15:49:25.746818: [debug] Process finished in 5ms: /sbin/ldconfig -p\r\n@(src/Stack/Setup.hs:580:22)\r\n2018-05-22 15:49:25.747207: [debug] Did not find shared library libtinfo.so.5\r\n@(src/Stack/Setup.hs:603:38)\r\n2018-05-22 15:49:25.747345: [debug] Found shared library libtinfo.so.6 in /usr/lib\r\n@(src/Stack/Setup.hs:602:38)\r\n2018-05-22 15:49:25.747415: [debug] Found shared library libncursesw.so.6 in 'ldconfig -p' output\r\n@(src/Stack/Setup.hs:589:29)\r\n2018-05-22 15:49:25.747500: [debug] Found shared library libgmp.so.10 in 'ldconfig -p' output\r\n@(src/Stack/Setup.hs:589:29)\r\n2018-05-22 15:49:25.747606: [debug] Did not find shared library libgmp.so.3\r\n@(src/Stack/Setup.hs:603:38)\r\n2018-05-22 15:49:25.747655: [debug] Potential GHC builds: tinfo6, ncurses6\r\n@(src/Stack/Setup.hs:632:9)\r\n2018-05-22 15:49:25.747717: [debug] Found already installed GHC builds: ncurses6\r\n@(src/Stack/Setup.hs:458:13)\r\n2018-05-22 15:49:25.748363: [debug] Performing a sanity check on: /home/fi3/.stack/programs/x86_64-linux/ghc-ncurses6-8.2.2/bin/ghc\r\n@(src/Stack/Setup.hs:1646:5)\r\n2018-05-22 15:49:25.748618: [debug] Run process within /tmp/stack-sanity-check2909/: /home/fi3/.stack/programs/x86_64-linux/ghc-ncurses6-8.2.2/bin/ghc /tmp/stack-sanity-check2909/Main.hs -no-user-package-db\r\n@(src/Stack/Setup.hs:1647:47)\r\n/usr/bin/ld.gold: error: cannot find -lgmp\r\ncollect2: error: ld returned 1 exit status\r\n`gcc' failed in phase `Linker'. (Exit code: 1)\r\n2018-05-22 15:49:26.304500: [debug] Process finished in 556ms: /home/fi3/.stack/programs/x86_64-linux/ghc-ncurses6-8.2.2/bin/ghc /tmp/stack-sanity-check2909/Main.hs -no-user-package-db\r\n@(src/Stack/Setup.hs:1647:47)\r\nThe GHC located at /home/fi3/.stack/programs/x86_64-linux/ghc-ncurses6-8.2.2/bin/ghc failed to compile a sanity check. Please see:\r\n\r\n    http://docs.haskellstack.org/en/stable/install_and_upgrade/\r\n\r\nfor more information. Exception was:\r\nReceived ExitFailure 1 when running\r\nRaw command: /home/fi3/.stack/programs/x86_64-linux/ghc-ncurses6-8.2.2/bin/ghc /tmp/stack-sanity-check2909/Main.hs -no-user-package-db\r\nRun from: /tmp/stack-sanity-check2909/\r\nStandard output:\r\n\r\n[1 of 1] Compiling Main             ( /tmp/stack-sanity-check2909/Main.hs, /tmp/stack-sanity-check2909/Main.o )\r\nLinking /tmp/stack-sanity-check2909/Main ...\r\n\r\n```\r\n\r\n### Stack version\r\n\r\n```\r\n$ stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\n### Note\r\n\r\nI'm on void linux\r\nedit:\r\n\r\n`/usr/lib/libgmp.so.3` linked to `/usr/lib/libgmp.so.10`\r\n\r\n`/usr/lib/libtinfo.so.6` linked to `/usr/lib/libncurses.so.6.1`\r\n\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4032",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4032/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4032/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4032/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4032",
    "id": 324565509,
    "number": 4032,
    "title": "Profiling build defaults",
    "user": {
      "login": "parsonsmatt",
      "id": 7310112,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7310112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parsonsmatt",
      "html_url": "https://github.com/parsonsmatt",
      "followers_url": "https://api.github.com/users/parsonsmatt/followers",
      "following_url": "https://api.github.com/users/parsonsmatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/parsonsmatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parsonsmatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parsonsmatt/subscriptions",
      "organizations_url": "https://api.github.com/users/parsonsmatt/orgs",
      "repos_url": "https://api.github.com/users/parsonsmatt/repos",
      "events_url": "https://api.github.com/users/parsonsmatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parsonsmatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-05-18T22:07:17Z",
    "updated_at": "2018-05-21T05:55:37Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "@bitemyapp's Makefiles are a treasure trove of build tips. [Here's a trick for profiling builds](https://github.com/fpco/badgers/blob/master/Makefile#L9-L13):\r\n\r\n```\r\nstack build --profile --work-dir .stack-work-profiling\r\n```\r\n\r\nThis tremendously improves build caching, at the expense of disk space.\r\n\r\nCan this be a default behavior, or at least, enabled via a global config flag or similar? It is soul crushing to have to rebuild all of the deps for a large project for profiling, and rebuild them *again* for normal mode."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4031",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4031/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4031/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4031/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4031",
    "id": 324564182,
    "number": 4031,
    "title": "`stack ghci` with a test component does not build test dependencies",
    "user": {
      "login": "parsonsmatt",
      "id": 7310112,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7310112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parsonsmatt",
      "html_url": "https://github.com/parsonsmatt",
      "followers_url": "https://api.github.com/users/parsonsmatt/followers",
      "following_url": "https://api.github.com/users/parsonsmatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/parsonsmatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parsonsmatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parsonsmatt/subscriptions",
      "organizations_url": "https://api.github.com/users/parsonsmatt/orgs",
      "repos_url": "https://api.github.com/users/parsonsmatt/repos",
      "events_url": "https://api.github.com/users/parsonsmatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parsonsmatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-18T22:00:32Z",
    "updated_at": "2018-05-22T18:04:50Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "### General summary/comments (optional)\r\n\r\n`stack ghci` doesn't load dependencies from the test-suite if you select a test-suite target and the test-suite has not been built yet.\r\n\r\nThis may also require the package having not been built *at all* in the global package cache yet.\r\n\r\nMore observations:\r\n\r\nIf you do a `stack ghci` in the reproduction repo before doing a `stack build`, it loads the library component fine. But if you do a `stack ghci stack-ghci-repro:test:stack-ghci-repro-test`, it fails to load the library as a dependency.\r\n\r\n### Steps to reproduce\r\n\r\n```bash\r\n$ git clone https://www.github.com/parsonsmatt/stack-ghci-repro\r\n$ cd stack-ghci-repro\r\n$ stack ghci stack-ghci-repro:test:stack-ghci-repro-test\r\n< observe the problem>\r\n$ stack test\r\n$ stack ghci stack-ghci-repro:tests:stack-ghci-repro-test\r\n< note that it is fixed >\r\n```\r\n\r\n### Expected\r\n\r\nI expected it to notice that it was in a `test-suite`, ensure that it has loaded and downloaded all of the test suite dependencies, and launched a GHCi shell correctly.\r\n\r\n### Actual\r\n\r\n```bash\r\n$ stack ghci stack-ghci-repro:test:stack-ghci-repro-test\r\nThe following GHC options are incompatible with GHCi and have not been passed to it: -threaded\r\nConfiguring GHCi with the following packages: stack-ghci-repro\r\nUsing main module: 1. Package `stack-ghci-repro' component test:stack-ghci-repro-test with main-is file: /home/matt/Projects/stack-ghci-repro/test/Spec.hs\r\nGHCi, version 8.2.2: http://www.haskell.org/ghc/  :? for help\r\n<command line>: cannot satisfy -package hedgehog-0.5.1\r\n    (use -v for more information)\r\n```\r\n\r\n### Stack version\r\n\r\n```\r\n$ stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\n### Method of installation\r\n\r\n* Official binary, downloaded from stackage.org or fpcomplete's package repository"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4030",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4030/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4030/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4030/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4030",
    "id": 324251488,
    "number": 4030,
    "title": "GHCJS 8.4 Support",
    "user": {
      "login": "RobertFischer",
      "id": 20183,
      "avatar_url": "https://avatars1.githubusercontent.com/u/20183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RobertFischer",
      "html_url": "https://github.com/RobertFischer",
      "followers_url": "https://api.github.com/users/RobertFischer/followers",
      "following_url": "https://api.github.com/users/RobertFischer/following{/other_user}",
      "gists_url": "https://api.github.com/users/RobertFischer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RobertFischer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RobertFischer/subscriptions",
      "organizations_url": "https://api.github.com/users/RobertFischer/orgs",
      "repos_url": "https://api.github.com/users/RobertFischer/repos",
      "events_url": "https://api.github.com/users/RobertFischer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RobertFischer/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-18T02:44:51Z",
    "updated_at": "2018-05-22T20:20:06Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "GHCJS runs on 8.4 -- see:\r\n  https://github.com/NixOS/nixpkgs/issues/40140\r\n  https://github.com/ghcjs/ghcjs/issues/602#issuecomment-387087893\r\n\r\nWhat's it going to take to get Stack to have a GHCJS based on 8.4 and a modern LTS?  I'm happy to put in some effort to get it to happen, but I'm not sure what kind of effort is necessary."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4029",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4029/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4029/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4029/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4029",
    "id": 324148595,
    "number": 4029,
    "title": "Bug: `stack build` and `stack --stack-yaml=stack.yaml build` interpret paths in YAML differently",
    "user": {
      "login": "ntc2",
      "id": 16421,
      "avatar_url": "https://avatars2.githubusercontent.com/u/16421?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ntc2",
      "html_url": "https://github.com/ntc2",
      "followers_url": "https://api.github.com/users/ntc2/followers",
      "following_url": "https://api.github.com/users/ntc2/following{/other_user}",
      "gists_url": "https://api.github.com/users/ntc2/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ntc2/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ntc2/subscriptions",
      "organizations_url": "https://api.github.com/users/ntc2/orgs",
      "repos_url": "https://api.github.com/users/ntc2/repos",
      "events_url": "https://api.github.com/users/ntc2/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ntc2/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-17T19:08:03Z",
    "updated_at": "2018-05-17T19:08:03Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "### General summary/comments (optional)\r\n\r\nWhen, at the top level of my project, I symlink to a `stack.yaml` in a\r\nsubdir, the way `stack` interprets the paths in that `stack.yaml`\r\ndepends on whether I explicitly tell `stack` where to find the YAML\r\nfile. I.e., a plain `stack build` succeeds, interpreting the paths in\r\nthe YAML file relative to the ***location of the symlink***, whereas\r\nthe explicit `stack --stack-yaml=stack.yaml build` and\r\n`STACK_YAML=stack.yaml stack build` both fail, interpreting the paths\r\nin the YAML file relative the ***location of the target of the\r\nsymlink***.\r\n\r\nI would prefer that all three invocations interpret the paths relative\r\nthe location of the symlink -- because that avoids having to add a\r\nbunch of `../` prefixes, and makes the actual YAML file robust to\r\n`mv`s as long as the symlink is updated accordingly -- but the bug is\r\nthat the three invocations don't all behave the same.\r\n\r\n### Steps to reproduce\r\n\r\n``` console\r\n$ stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n# Create a dir to work in\r\n$ mkdir -p /var/tmp/tmp/stack-symlink-path-bug\r\n$ cd /var/tmp/tmp/stack-symlink-path-bug\r\n# Download a package to refer to in the stack.yaml file\r\n$ stack unpack microlens --to deps\r\n# Create stack.yaml\r\n$ stack init --resolver lts-11.9 \r\n$ grep -v '^#' stack.yaml\r\nresolver: lts-11.9\r\npackages:\r\n- deps/microlens-0.4.9.1\r\n# Move stack.yaml into subdir and create a symlink to it at top level\r\n$ mkdir stack-yamls\r\n$ mv stack.yaml stack-yamls\r\n$ ln -s stack-yamls/stack.yaml ./\r\n# Build with implicit stack.yaml: success\r\n$ stack build\r\n[success]\r\n# Build with explicit stack.yaml: failure\r\n$ stack --stack-yaml=stack.yaml build\r\n/var/tmp/tmp/stack-symlink-path-bug/stack-yamls/deps/microlens-0.4.9.1/: getDirectoryContents:openDirStream: does not exist (No such file or directory)\r\n# Build with explicit stack.yaml: failure\r\n$ STACK_YAML=stack.yaml stack build\r\nGetting project config file from STACK_YAML environment\r\n/var/tmp/tmp/stack-symlink-path-bug/stack-yamls/deps/microlens-0.4.9.1/: getDirectoryContents:openDirStream: does not exist (No such file or directory)\r\n```\r\n\r\n### Expected\r\n\r\nI expect that all three `stack build` invocations would behave the same.\r\n\r\n### Actual\r\n\r\nThe `stack build` using the implicit `stack.yaml` behaves differently\r\nfrom the two `stack build` invocations with an explicit `stack.yaml`.\r\n\r\n### Method of installation\r\n\r\nVia `stack upgrade`.\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4027",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4027/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4027/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4027/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4027",
    "id": 323749436,
    "number": 4027,
    "title": "Regression in 1.7.1 (compared to 1.6.5) in getPackageFiles RAM usage",
    "user": {
      "login": "k-bx",
      "id": 107968,
      "avatar_url": "https://avatars3.githubusercontent.com/u/107968?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k-bx",
      "html_url": "https://github.com/k-bx",
      "followers_url": "https://api.github.com/users/k-bx/followers",
      "following_url": "https://api.github.com/users/k-bx/following{/other_user}",
      "gists_url": "https://api.github.com/users/k-bx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k-bx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k-bx/subscriptions",
      "organizations_url": "https://api.github.com/users/k-bx/orgs",
      "repos_url": "https://api.github.com/users/k-bx/repos",
      "events_url": "https://api.github.com/users/k-bx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k-bx/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 7,
    "created_at": "2018-05-16T19:10:13Z",
    "updated_at": "2018-05-25T09:16:31Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "### General summary/comments (optional)\r\n\r\nIf I run \"stack build\" with 1.7.1 on one of our projects, it grows up to 16GB upon the `getPackageFiles` step. Doesn't happen on another proj which shares most of deps but not all. Doesn't happen on 1.6.5.\r\n\r\nPossibly related: https://github.com/commercialhaskell/stack/issues/1235\r\n\r\nBisect results:\r\n\r\n```\r\nacb196788948bab7a01e13cddf6e6cd5b5bf93a0 is the first bad commit\r\ncommit acb196788948bab7a01e13cddf6e6cd5b5bf93a0\r\nAuthor: Emanuel Borsboom <manny@fpcomplete.com>\r\nDate:   Wed Dec 27 15:04:05 2017 -0800\r\n\r\n    setup: improvements to selecting bindists on Linux\r\n\r\n    These changes are motivated by #3636.\r\n\r\n    * `stack setup` looks for GHC bindists and installations by any OS key\r\n      that is compatible (rather than only checking a single one).   This is\r\n      relevant on Linux where different distributions may have different\r\n      combinations of libtinfo 5/6, ncurses 5/6, and gmp 4/5, and will allow\r\n      simpifying the setup-info metadata YAML for future GHC releases.\r\n\r\n    * `stack setup` no longer uses different GHC configure options on Linux\r\n      distributions that use GCC with PIE enabled by default.  GHC detects\r\n      this itself since ghc-8.0.2, and Stack's attempted workaround for older\r\n      versions caused more problems than it solved.\r\n\r\n:100644 100644 5c2e93fe50a2b6b3a1b61ba3c20d22177000f2c7 1667e4507cf6465eb685127d60402ffd25322066 M      ChangeLog.md\r\n:040000 040000 0a6a8aa14860157aa6c741d147d36924c098b628 14217e82bc4da2a9aac1a3f9f75e12fdbd003d1e M      src\r\n```\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4023",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4023/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4023/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4023/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4023",
    "id": 322583087,
    "number": 4023,
    "title": "Update default msys2 version in stack setup",
    "user": {
      "login": "hardentoo",
      "id": 14835238,
      "avatar_url": "https://avatars2.githubusercontent.com/u/14835238?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hardentoo",
      "html_url": "https://github.com/hardentoo",
      "followers_url": "https://api.github.com/users/hardentoo/followers",
      "following_url": "https://api.github.com/users/hardentoo/following{/other_user}",
      "gists_url": "https://api.github.com/users/hardentoo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hardentoo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hardentoo/subscriptions",
      "organizations_url": "https://api.github.com/users/hardentoo/orgs",
      "repos_url": "https://api.github.com/users/hardentoo/repos",
      "events_url": "https://api.github.com/users/hardentoo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hardentoo/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-13T10:41:24Z",
    "updated_at": "2018-05-28T05:34:28Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "I am using the latest release of stack (1.7.1) on the latest version of Windows 10.\r\n\r\nI need the sdl2 library in msys2.  But default msys2 is too old. If I make stack setup, then msys2-20150512 is installed, which is too old and when trying to do pacman -Syyuu in it nothing works. Therefore, I have to download the latest version of msys2 from here http://repo.msys2.org and install it in the \"C:\\Users\\User\\AppData\\Local\\Programs\\stack\\x86_64-windows\\msys2-20150512 directory and then pacman - Syyuu works and I can use the latest version of sdl2.\r\n\r\nHow to specify to use a more recent build of msys2 in stack setup?  Can you update msys2 in the default installation to recent?\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4022",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4022/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4022/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4022/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4022",
    "id": 322575072,
    "number": 4022,
    "title": "Stack is missing cabal's --extra-framework-dirs",
    "user": {
      "login": "TravisWhitaker",
      "id": 1310395,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1310395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TravisWhitaker",
      "html_url": "https://github.com/TravisWhitaker",
      "followers_url": "https://api.github.com/users/TravisWhitaker/followers",
      "following_url": "https://api.github.com/users/TravisWhitaker/following{/other_user}",
      "gists_url": "https://api.github.com/users/TravisWhitaker/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TravisWhitaker/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TravisWhitaker/subscriptions",
      "organizations_url": "https://api.github.com/users/TravisWhitaker/orgs",
      "repos_url": "https://api.github.com/users/TravisWhitaker/repos",
      "events_url": "https://api.github.com/users/TravisWhitaker/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TravisWhitaker/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-13T08:32:44Z",
    "updated_at": "2018-05-13T08:32:44Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "I'm working on a macOS-specific package that needs to link against frameworks. With cabal, I need to configure like this:\r\n\r\n```bash\r\n$ cabal configure --extra-framework-dirs=/System/Library/Frameworks/ ...\r\n```\r\n\r\nBut stack seems to have no equivalent option. I'm sure it's possible to get around this with --ghc-options, but it'd be nice to be able to stick this in stack.yaml, just like extra-lib-dirs. I'd imagine that extra-framework-dirs works just like extra-lib-dirs and that this would be easy to add, but I don't know for sure."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4021",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4021/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4021/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4021/events",
    "html_url": "https://github.com/commercialhaskell/stack/pull/4021",
    "id": 322120263,
    "number": 4021,
    "title": "Allow Nix mode to be disabled under NixOS",
    "user": {
      "login": "rdnetto",
      "id": 1973389,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1973389?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rdnetto",
      "html_url": "https://github.com/rdnetto",
      "followers_url": "https://api.github.com/users/rdnetto/followers",
      "following_url": "https://api.github.com/users/rdnetto/following{/other_user}",
      "gists_url": "https://api.github.com/users/rdnetto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rdnetto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rdnetto/subscriptions",
      "organizations_url": "https://api.github.com/users/rdnetto/orgs",
      "repos_url": "https://api.github.com/users/rdnetto/repos",
      "events_url": "https://api.github.com/users/rdnetto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rdnetto/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 14,
    "created_at": "2018-05-10T23:29:10Z",
    "updated_at": "2018-05-23T08:01:48Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "pull_request": {
      "url": "https://api.github.com/repos/commercialhaskell/stack/pulls/4021",
      "html_url": "https://github.com/commercialhaskell/stack/pull/4021",
      "diff_url": "https://github.com/commercialhaskell/stack/pull/4021.diff",
      "patch_url": "https://github.com/commercialhaskell/stack/pull/4021.patch"
    },
    "body": "This was introduced in #3938, but breaks Docker mode under NixOS.\r\n\r\nThis PR relaxes the logic to only change the default under NixOS, rather than force Nix mode to enabled.\r\n\r\nFixes #4002.\r\n\r\nPlease include the following checklist in your PR:\r\n\r\n* [x] Any changes that could be relevant to users have been recorded in the ChangeLog.md\r\n* [x] The documentation has been updated, if necessary.\r\n\r\nPlease also shortly describe how you tested your change. Bonus points for added tests!\r\n\r\nTested under NixOS using the Stack project."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4020",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4020/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4020/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4020/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4020",
    "id": 322096039,
    "number": 4020,
    "title": "Windows 10, Compilation with Stack fails for 8.4.2 version",
    "user": {
      "login": "fpanahi",
      "id": 34958638,
      "avatar_url": "https://avatars3.githubusercontent.com/u/34958638?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fpanahi",
      "html_url": "https://github.com/fpanahi",
      "followers_url": "https://api.github.com/users/fpanahi/followers",
      "following_url": "https://api.github.com/users/fpanahi/following{/other_user}",
      "gists_url": "https://api.github.com/users/fpanahi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fpanahi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fpanahi/subscriptions",
      "organizations_url": "https://api.github.com/users/fpanahi/orgs",
      "repos_url": "https://api.github.com/users/fpanahi/repos",
      "events_url": "https://api.github.com/users/fpanahi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fpanahi/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 2,
    "created_at": "2018-05-10T21:43:39Z",
    "updated_at": "2018-05-25T14:46:52Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "I am using the latest release of stack (1.7.1) on the latest version of Windows 10.\r\n\r\nCompilation with Stack fails for 8.4.2 version.\r\n\r\nI went through the following steps:\r\n\r\n1. I installed Stack: OK.\r\n2. I cloned https://github.com/haskell/haskell-ide-engine : OK.\r\n3. I ran the command Stack Install : crashed, with the following error message\r\n\r\nMicrosoft Windows [version 10.0.16299.431]\r\n(c) 2017 Microsoft Corporation. Tous droits rservs.\r\n\r\nC:\\Users\\Farhad>cd c:\\hie\r\n\r\nc:\\hie>stack install\r\n\u001B[0mNo packages found in snapshot which provide a \"cabal\" executable, which is a build-tool dependency of \"cabal-helper\"\u001B[0m\r\n\u001B[0mghc-mod-core-5.9.0.0: configure (lib)\u001B[0m\r\n\u001B[0msorted-list-0.2.1.0: configure\u001B[0m\r\n\u001B[0mghc-mod-core-5.9.0.0: build (lib)\u001B[0m\r\n\u001B[0msorted-list-0.2.1.0: build\u001B[0m\r\n\u001B[0mhaskell-lsp-types-0.2.1.0: configure\u001B[0m\r\n\u001B[0msorted-list-0.2.1.0: copy/register\u001B[0m\r\n\u001B[0mhaskell-lsp-types-0.2.1.0: build\u001B[0m\r\n\u001B[0mghc-exactprint-0.5.6.1: configure\u001B[0m\r\n\u001B[0mghc-exactprint-0.5.6.1: build\u001B[0m\r\n\u001B[0msyz-0.2.0.0: configure\u001B[0m\r\n\u001B[0msyz-0.2.0.0: build\u001B[0m\r\n\u001B[0msyz-0.2.0.0: copy/register\u001B[0m\r\n\u001B[0mhaskell-lsp-types-0.2.1.0: copy/register\u001B[0m\r\nProgress 5/13\r\n\r\n--  While building custom Setup.hs for package ghc-exactprint-0.5.6.1 using:\r\n      C:\\sr\\setup-exe-cache\\x86_64-windows\\Cabal-simple_Z6RU0evB_2.2.0.1_ghc-8.4.2.exe --builddir=.stack-work\\dist\\7d103d30 build --ghc-options \" -ddump-hi -ddump-to-file -fdiagnostics-color=always\"\r\n    Process exited with code: ExitFailure 1\r\n    Logs have been written to: C:\\hie\\.stack-work\\logs\\ghc-exactprint-0.5.6.1.log\r\n\r\n    Configuring ghc-exactprint-0.5.6.1...\r\n    Warning: The package has an extraneous version range for a dependency on an\r\n    internal library: ghc-exactprint >=0.5.4. This version range includes the\r\n    current package but isn't needed as the current package's library will always\r\n    be used.\r\n    Warning:\r\n        This package indirectly depends on multiple versions of the same package. This is very likely to cause a compile failure.\r\n          package time (time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package directory (directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package time (time-1.8.0.2) requires Win32-2.6.1.0\r\n          package process (process-1.6.3.0) requires Win32-2.6.1.0\r\n          package ghc (ghc-8.4.2) requires Win32-2.6.1.0\r\n          package directory (directory-1.3.1.5) requires Win32-2.6.1.0\r\n          package process (process-1.6.3.0) requires directory-1.3.1.5\r\n          package hpc (hpc-0.6.0.3) requires directory-1.3.1.5\r\n          package ghc-boot (ghc-boot-8.4.2) requires directory-1.3.1.5\r\n          package ghc (ghc-8.4.2) requires directory-1.3.1.5\r\n          package ghc-exactprint (ghc-exactprint-0.5.6.1) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package ghc-boot (ghc-boot-8.4.2-IjXXYP7XIDA1Af0Wr3EqUE) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package ghci (ghci-8.4.2) requires ghc-boot-8.4.2\r\n          package ghc (ghc-8.4.2) requires ghc-boot-8.4.2\r\n          package ghc-exactprint (ghc-exactprint-0.5.6.1) requires ghc-boot-8.4.2-IjXXYP7XIDA1Af0Wr3EqUE\r\n          package hpc (hpc-0.6.0.3) requires time-1.8.0.2\r\n          package ghc (ghc-8.4.2) requires time-1.8.0.2\r\n          package directory (directory-1.3.1.5) requires time-1.8.0.2\r\n          package directory (directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1) requires time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC\r\n    Preprocessing library for ghc-exactprint-0.5.6.1..\r\n    Building library for ghc-exactprint-0.5.6.1..\r\n    [ 1 of 13] Compiling Language.Haskell.GHC.ExactPrint.Types ( src\\Language\\Haskell\\GHC\\ExactPrint\\Types.hs, .stack-work\\dist\\7d103d30\\build\\Language\\Haskell\\GHC\\ExactPrint\\Types.o )\r\n    [ 2 of 13] Compiling Language.Haskell.GHC.ExactPrint.Lookup ( src\\Language\\Haskell\\GHC\\ExactPrint\\Lookup.hs, .stack-work\\dist\\7d103d30\\build\\Language\\Haskell\\GHC\\ExactPrint\\Lookup.o )\r\n    [ 3 of 13] Compiling Language.Haskell.GHC.ExactPrint.AnnotateTypes ( src\\Language\\Haskell\\GHC\\ExactPrint\\AnnotateTypes.hs, .stack-work\\dist\\7d103d30\\build\\Language\\Haskell\\GHC\\ExactPrint\\AnnotateTypes.o )\r\n    GHC runtime linker: fatal error: I found a duplicate definition for symbol\r\n       rgb\r\n    whilst processing object file\r\n       C:\\Users\\Farhad\\AppData\\Local\\Programs\\stack\\x86_64-windows\\ghc-8.4.2\\lib\\Win32-2.6.1.0\\HSWin32-2.6.1.0.o\r\n    The symbol was previously defined in\r\n       C:\\sr\\snapshots\\03fa9465\\lib\\x86_64-windows-ghc-8.4.2\\Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\\HSWin32-2.5.4.1-LVNqK0SwW285hUwHpPOkae.o\r\n    This could be caused by:\r\n       * Loading two different object files which export the same symbol\r\n       * Specifying the same object file twice on the GHCi command line\r\n       * An incorrect `package.conf' entry, causing some object to be\r\n         loaded twice.\r\n    ghc.EXE: panic! (the 'impossible' happened)\r\n      (GHC version 8.4.2 for x86_64-unknown-mingw32):\r\n        loadObj \"C:\\\\Users\\\\Farhad\\\\AppData\\\\Local\\\\Programs\\\\stack\\\\x86_64-windows\\\\ghc-8.4.2\\\\lib\\\\Win32-2.6.1.0\\\\HSWin32-2.6.1.0.o\": failed\r\n\r\n    Please report this as a GHC bug:  http://www.haskell.org/ghc/reportabug\r\n\r\n\r\n--  While building custom Setup.hs for package ghc-mod-core-5.9.0.0 using:\r\n      C:\\sr\\setup-exe-cache\\x86_64-windows\\Cabal-simple_Z6RU0evB_2.2.0.1_ghc-8.4.2.exe --builddir=.stack-work\\dist\\7d103d30 build lib:ghc-mod-core --ghc-options \" -ddump-hi -ddump-to-file -fdiagnostics-color=always\"\r\n    Process exited with code: ExitFailure 1\r\n    Logs have been written to: C:\\hie\\.stack-work\\logs\\ghc-mod-core-5.9.0.0.log\r\n\r\n    Configuring ghc-mod-core-5.9.0.0...\r\n    Warning:\r\n        This package indirectly depends on multiple versions of the same package. This is very likely to cause a compile failure.\r\n          package unix-compat (unix-compat-0.5.0.1-ALLPuaD7J24dL9b6NTbA5) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package time (time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package process (process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package directory (directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package ansi-terminal (ansi-terminal-0.8.0.2-AQwelgnwMTFGc4jiARIgzm) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package Cabal (Cabal-2.2.0.1-FeOI90Zvmr7AkYuby89JJ) requires Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\r\n          package time (time-1.8.0.2) requires Win32-2.6.1.0\r\n          package process (process-1.6.3.0) requires Win32-2.6.1.0\r\n          package ghc (ghc-8.4.2) requires Win32-2.6.1.0\r\n          package directory (directory-1.3.1.5) requires Win32-2.6.1.0\r\n          package process (process-1.6.3.0) requires directory-1.3.1.5\r\n          package hpc (hpc-0.6.0.3) requires directory-1.3.1.5\r\n          package ghc-boot (ghc-boot-8.4.2) requires directory-1.3.1.5\r\n          package ghc (ghc-8.4.2) requires directory-1.3.1.5\r\n          package unix-compat (unix-compat-0.5.0.1-ALLPuaD7J24dL9b6NTbA5) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package temporary (temporary-1.2.1.1-8f2WBQRkfsZ9IwRyqpPINq) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package process (process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package ghc-mod-core (ghc-mod-core-5.9.0.0) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package ghc-boot (ghc-boot-8.4.2-IjXXYP7XIDA1Af0Wr3EqUE) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package extra (extra-1.6.6-E23jajM052SDJ4GgmArFUp) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package cpphs (cpphs-1.20.8-JKmr2FfpPiI6VediyrxNsH) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package cabal-helper (cabal-helper-0.8.0.3-IrSuTRa7k3C5ik5GHoMOlo) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package Cabal (Cabal-2.2.0.1-FeOI90Zvmr7AkYuby89JJ) requires directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1\r\n          package ghci (ghci-8.4.2) requires ghc-boot-8.4.2\r\n          package ghc (ghc-8.4.2) requires ghc-boot-8.4.2\r\n          package ghc-mod-core (ghc-mod-core-5.9.0.0) requires ghc-boot-8.4.2-IjXXYP7XIDA1Af0Wr3EqUE\r\n          package ghc (ghc-8.4.2) requires process-1.6.3.0\r\n          package optparse-applicative (optparse-applicative-0.14.2.0-2cLHts4ddm62O3ilVqxDVF) requires process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP\r\n          package ghc-mod-core (ghc-mod-core-5.9.0.0) requires process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP\r\n          package extra (extra-1.6.6-E23jajM052SDJ4GgmArFUp) requires process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP\r\n          package cabal-helper (cabal-helper-0.8.0.3-IrSuTRa7k3C5ik5GHoMOlo) requires process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP\r\n          package Cabal (Cabal-2.2.0.1-FeOI90Zvmr7AkYuby89JJ) requires process-1.6.3.0-FMzG7P7MVAn6mqfwmNuxPP\r\n          package hpc (hpc-0.6.0.3) requires time-1.8.0.2\r\n          package ghc (ghc-8.4.2) requires time-1.8.0.2\r\n          package directory (directory-1.3.1.5) requires time-1.8.0.2\r\n          package unix-compat (unix-compat-0.5.0.1-ALLPuaD7J24dL9b6NTbA5) requires time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC\r\n          package ghc-mod-core (ghc-mod-core-5.9.0.0) requires time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC\r\n          package extra (extra-1.6.6-E23jajM052SDJ4GgmArFUp) requires time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC\r\n          package directory (directory-1.3.1.5-J5MwWdrFyEn9y6RDLELiL1) requires time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC\r\n          package Cabal (Cabal-2.2.0.1-FeOI90Zvmr7AkYuby89JJ) requires time-1.8.0.2-D1fwd9ZaD3eDd2StmPCsSC\r\n    Preprocessing library for ghc-mod-core-5.9.0.0..\r\n    Building library for ghc-mod-core-5.9.0.0..\r\n    [10 of 45] Compiling GhcMod.Types     ( GhcMod\\Types.hs, .stack-work\\dist\\7d103d30\\build\\GhcMod\\Types.o )\r\n    GHC runtime linker: fatal error: I found a duplicate definition for symbol\r\n       rgb\r\n    whilst processing object file\r\n       C:\\Users\\Farhad\\AppData\\Local\\Programs\\stack\\x86_64-windows\\ghc-8.4.2\\lib\\Win32-2.6.1.0\\HSWin32-2.6.1.0.o\r\n    The symbol was previously defined in\r\n       C:\\sr\\snapshots\\03fa9465\\lib\\x86_64-windows-ghc-8.4.2\\Win32-2.5.4.1-LVNqK0SwW285hUwHpPOkae\\HSWin32-2.5.4.1-LVNqK0SwW285hUwHpPOkae.o\r\n    This could be caused by:\r\n       * Loading two different object files which export the same symbol\r\n       * Specifying the same object file twice on the GHCi command line\r\n       * An incorrect `package.conf' entry, causing some object to be\r\n         loaded twice.\r\n    ghc.EXE: panic! (the 'impossible' happened)\r\n      (GHC version 8.4.2 for x86_64-unknown-mingw32):\r\n        loadObj \"C:\\\\Users\\\\Farhad\\\\AppData\\\\Local\\\\Programs\\\\stack\\\\x86_64-windows\\\\ghc-8.4.2\\\\lib\\\\Win32-2.6.1.0\\\\HSWin32-2.6.1.0.o\": failed\r\n\r\n    Please report this as a GHC bug:  http://www.haskell.org/ghc/reportabug\r\n\r\nc:\\hie>"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4019",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4019/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4019/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4019/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4019",
    "id": 322050395,
    "number": 4019,
    "title": "Breakage on Ubuntu 18.04 LTS with GHC 8.4.2",
    "user": {
      "login": "parsonsmatt",
      "id": 7310112,
      "avatar_url": "https://avatars1.githubusercontent.com/u/7310112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/parsonsmatt",
      "html_url": "https://github.com/parsonsmatt",
      "followers_url": "https://api.github.com/users/parsonsmatt/followers",
      "following_url": "https://api.github.com/users/parsonsmatt/following{/other_user}",
      "gists_url": "https://api.github.com/users/parsonsmatt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/parsonsmatt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/parsonsmatt/subscriptions",
      "organizations_url": "https://api.github.com/users/parsonsmatt/orgs",
      "repos_url": "https://api.github.com/users/parsonsmatt/repos",
      "events_url": "https://api.github.com/users/parsonsmatt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/parsonsmatt/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 5,
    "created_at": "2018-05-10T19:17:57Z",
    "updated_at": "2018-05-13T12:04:16Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "### General summary/comments (optional)\r\n\r\nQuoth HVR:\r\n\r\n> It should be rather easy to fix this on Stack's side by detecting system configurations which are known to be incompatible and avoid passing -g to GHC by default. (snip)\r\n\r\nGHC Trac ticket: https://ghc.haskell.org/trac/ghc/ticket/15068\r\n\r\n`sclv` says: [Apparently the problem is that stack turns on debug information by default, which most people don't realize, and also you can only turn it off by enable symbol stripping, which is a pain.](https://www.reddit.com/r/haskell/comments/8ic3c5/ghc_fatally_broken_on_ubuntu_1804_bionic_and/dyrn79x/)\r\n\r\nI am opening this issue on behalf of [the author of this Reddit thread](https://www.reddit.com/r/haskell/comments/8ic3c5/ghc_fatally_broken_on_ubuntu_1804_bionic_and/). \r\n\r\n### Steps to reproduce\r\n\r\nI am unable to reproduce this on my machine; I'm going to let the OP know that this issue exists and hopefully they can submit their reproduction steps.\r\n\r\n### Expected\r\n\r\nWhat you expected to see and happen.\r\n\r\n### Actual\r\n\r\nWhat actually happened.\r\n\r\nIf you suspect that a stack command misbehaved, please include the output of that command in `--verbose` mode.\r\nIf the output is larger than a page please paste the output in a [Gist](https://gist.github.com/).\r\n\r\n```\r\n$ stack <your command here> <args> --verbose\r\n<output>\r\n```\r\n\r\n### Stack version\r\n\r\n```\r\n$ stack --version\r\nVersion 1.5.0, Git revision 63267f94d7c819cbecc2d59aa259d17240838e43 (4845 commits) x86_64 hpack-0.17.1\r\n```\r\n\r\n### Method of installation\r\n\r\n* Official binary, downloaded from stackage.org or fpcomplete's package repository\r\n* Via cabal-install\r\n* An unofficial package repository (please specify which)\r\n* Other (please specify)\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4018",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4018/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4018/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4018/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4018",
    "id": 321180884,
    "number": 4018,
    "title": "It is not possible to use ghcjs from $PATH",
    "user": {
      "login": "alexanderkjeldaas",
      "id": 339369,
      "avatar_url": "https://avatars3.githubusercontent.com/u/339369?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexanderkjeldaas",
      "html_url": "https://github.com/alexanderkjeldaas",
      "followers_url": "https://api.github.com/users/alexanderkjeldaas/followers",
      "following_url": "https://api.github.com/users/alexanderkjeldaas/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexanderkjeldaas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexanderkjeldaas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexanderkjeldaas/subscriptions",
      "organizations_url": "https://api.github.com/users/alexanderkjeldaas/orgs",
      "repos_url": "https://api.github.com/users/alexanderkjeldaas/repos",
      "events_url": "https://api.github.com/users/alexanderkjeldaas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexanderkjeldaas/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-08T13:13:37Z",
    "updated_at": "2018-05-08T13:14:01Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "According to docs https://docs.haskellstack.org/en/stable/ghcjs/#custom-installed-ghcjs\r\n\r\nIt should be possible to specify:\r\n\r\n```\r\ncompiler: ghcjs-0.2.0_ghc-7.10.2\r\n```\r\n\r\nand `stack` should use the GHCJS from $PATH.\r\n\r\nThat's not what's happening:\r\n\r\n```\r\n$ stack build\r\nNo setup information found for ghcjs-0.2.0_ghc-7.10.2 on your platform.\r\nThis probably means a GHC bindist has not yet been added for OS key 'source'.\r\nSupported versions: ghcjs-0.1.0.20150924_ghc-7.10.2, ghcjs-0.2.1.9007010_ghc-8.0.1\r\n```\r\n\r\n### Stack version\r\n\r\n```\r\n$ stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\n### Method of installation\r\n\r\n* Official binary, downloaded from stackage.org or fpcomplete's package repository\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4016",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4016/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4016/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4016/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4016",
    "id": 321052700,
    "number": 4016,
    "title": "The Progress: bar do not clear",
    "user": {
      "login": "ncaq",
      "id": 2913112,
      "avatar_url": "https://avatars1.githubusercontent.com/u/2913112?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ncaq",
      "html_url": "https://github.com/ncaq",
      "followers_url": "https://api.github.com/users/ncaq/followers",
      "following_url": "https://api.github.com/users/ncaq/following{/other_user}",
      "gists_url": "https://api.github.com/users/ncaq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ncaq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ncaq/subscriptions",
      "organizations_url": "https://api.github.com/users/ncaq/orgs",
      "repos_url": "https://api.github.com/users/ncaq/repos",
      "events_url": "https://api.github.com/users/ncaq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ncaq/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 4,
    "created_at": "2018-05-08T06:01:26Z",
    "updated_at": "2018-05-29T10:03:30Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "### General summary/comments (optional)\r\n\r\nThe progress bar do not clear when step next line.\r\n\r\n### Steps to reproduce\r\n\r\n1. for example, I build project that have many dependencise\r\n2. Run command `stack build`, `stack test`, `stack install`\r\n3. parallel build for many.\r\n\r\n### Expected\r\n\r\nThe progress bar clear when step next line.\r\n\r\n### Actual\r\n\r\n![screenshot-2018-04-28-20-59-56](https://user-images.githubusercontent.com/2913112/39740415-76505f18-52d0-11e8-8b41-5626d2c81693.png)\r\n\r\n### Stack version\r\n\r\n```\r\n% stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\n### Method of installation\r\n\r\n* Official binary, downloaded from stackage.org or fpcomplete's package repository\r\n"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4013",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4013/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4013/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4013/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4013",
    "id": 320815561,
    "number": 4013,
    "title": "Internal Use of Backpack",
    "user": {
      "login": "andrewthad",
      "id": 5332484,
      "avatar_url": "https://avatars0.githubusercontent.com/u/5332484?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andrewthad",
      "html_url": "https://github.com/andrewthad",
      "followers_url": "https://api.github.com/users/andrewthad/followers",
      "following_url": "https://api.github.com/users/andrewthad/following{/other_user}",
      "gists_url": "https://api.github.com/users/andrewthad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andrewthad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andrewthad/subscriptions",
      "organizations_url": "https://api.github.com/users/andrewthad/orgs",
      "repos_url": "https://api.github.com/users/andrewthad/repos",
      "events_url": "https://api.github.com/users/andrewthad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andrewthad/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-05-07T13:58:56Z",
    "updated_at": "2018-05-13T13:05:09Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "I have a package [primitive-containers](https://github.com/andrewthad/primitive-containers) that uses backpack internally ([permalink](https://github.com/andrewthad/primitive-containers/tree/94721144ddc8fb6bbe1bf469a8a5ed581b660b00)). It does not export any signatures or indefinite modules. There is a `stack.yaml` file in the repo that tells the project to use a fork of `primitive`. This is what currently happens when I run `stack build`:\r\n\r\n```\r\nprimitive-containers-0.1.0.0: build (lib)\r\nprimitive-containers-0.1.0.0: copy/register\r\nLog files have been written to: /home/amartin/Development/primitive-containers/.stack-work/logs/\r\n\r\n--  While building custom Setup.hs for package primitive-containers-0.1.0.0 using:\r\n      /home/amartin/.stack/setup-exe-cache/x86_64-linux/Cabal-simple_mPHDZzAJ_2.0.1.0_ghc-8.2.2 --builddir=.stack-work/dist/x86_64-linux/Cabal-2.0.1.0 register\r\n    Process exited with code: ExitFailure 1\r\n    Logs have been written to: /home/amartin/Development/primitive-containers/.stack-work/logs/primitive-containers-0.1.0.0.log\r\n\r\n    Preprocessing library 'set-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'set-indef' instantiated with Value = <Value>\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'map-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'map-indef' instantiated with\r\n      Key = <Key>\r\n      Value = <Value>\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'array-unboxed' for primitive-containers-0.1.0.0..\r\n    Building library 'array-unboxed' for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'map-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'map-indef' instantiated with\r\n      Key = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnboxed\r\n      Value = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnlifted\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'map-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'map-indef' instantiated with\r\n      Key = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnboxed\r\n      Value = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnboxed\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'map-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'map-indef' instantiated with\r\n      Key = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnboxed\r\n      Value = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueLifted\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'set-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'set-indef' instantiated with\r\n      Value = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnboxed\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'set-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'set-indef' instantiated with\r\n      Value = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueLifted\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library 'set-indef' for primitive-containers-0.1.0.0..\r\n    Building library 'set-indef' instantiated with\r\n      Value = primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed:ValueUnlifted\r\n    for primitive-containers-0.1.0.0..\r\n    Preprocessing library for primitive-containers-0.1.0.0..\r\n    Building library for primitive-containers-0.1.0.0..\r\n    Installing internal library set-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-LB02mqSWkYI3GBWrMlPkdG-set-indef\r\n    Installing internal library map-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-7Mjdw1dnkztIBEv4giYMwn-map-indef\r\n    Installing internal library array-unboxed in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.\r\n2.2/primitive-containers-0.1.0.0-4T7iiQSe8s3An1FFOj4zYO-array-unboxed\r\n    Installing internal library map-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-7Mjdw1dnkztIBEv4giYMwn-map-indef+2T1dqeUIRdj8OPyuGNS3hg\r\n    Installing internal library map-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-7Mjdw1dnkztIBEv4giYMwn-map-indef+71ykyc6nSwx8vP5G0Tqw9i\r\n    Installing internal library map-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-7Mjdw1dnkztIBEv4giYMwn-map-indef+G859lIO1xcR1YT3FaKNnT3\r\n    Installing internal library set-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-LB02mqSWkYI3GBWrMlPkdG-set-indef+6ga3wnXyLKPGeJh3bsiEcn\r\n    Installing internal library set-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-LB02mqSWkYI3GBWrMlPkdG-set-indef+EO0gCEE4KTFL0dcsdrzrR9\r\n    Installing internal library set-indef in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/\r\nprimitive-containers-0.1.0.0-LB02mqSWkYI3GBWrMlPkdG-set-indef+F8UdKHx9CmY4gHukJdpFI\r\n    Installing library in /home/amartin/Development/primitive-containers/.stack-work/install/x86_64-linux/lts-11.7/8.2.2/lib/x86_64-linux-ghc-8.2.2/primitive-container\r\ns-0.1.0.0-IlrblA1JadU1eSfUzd3i3S\r\n    Cabal-simple_mPHDZzAJ_2.0.1.0_ghc-8.2.2:\r\n    '/home/amartin/.stack/programs/x86_64-linux/ghc-8.2.2/bin/ghc' exited with an\r\n    error:\r\n    Failed to load interface for Control.Monad.Primitive\r\n    no unit id matching primitive-0.6.3.0-CXy1O9sQYlI58rn9KQkFyo was found\r\n```\r\n\r\nI'm not sure what uses of backpack stack currently claims to support, but I thought it'd be worth it to go ahead and open this here anyway. Also:\r\n\r\n```\r\n$ stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4010",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4010/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4010/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4010/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4010",
    "id": 320396220,
    "number": 4010,
    "title": "Nix now runs out of memory",
    "user": {
      "login": "drewr",
      "id": 6202,
      "avatar_url": "https://avatars3.githubusercontent.com/u/6202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/drewr",
      "html_url": "https://github.com/drewr",
      "followers_url": "https://api.github.com/users/drewr/followers",
      "following_url": "https://api.github.com/users/drewr/following{/other_user}",
      "gists_url": "https://api.github.com/users/drewr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/drewr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/drewr/subscriptions",
      "organizations_url": "https://api.github.com/users/drewr/orgs",
      "repos_url": "https://api.github.com/users/drewr/repos",
      "events_url": "https://api.github.com/users/drewr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/drewr/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-04T19:19:42Z",
    "updated_at": "2018-05-04T19:20:43Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "A stack script I've run for a while now with the following head:\r\n\r\n```\r\n#!/usr/bin/env stack\r\n{- stack\r\n    --resolver=lts-9.21\r\n    --nix\r\n    --no-nix-pure\r\n    runghc\r\n    --package filemanip\r\n    --package HStringTemplate\r\n    --package regex-compat\r\n    --package shake\r\n    --package split\r\n-}\r\n```\r\nNow fails to run when it actually needs to install a bunch of deps from Nix:\r\n```\r\n[...]\r\n  /nix/store/rkz6ajid7v27nkr6n223yhx9kbd7c4ql-perl-IO-HTML-1.001\r\n  /nix/store/shhkmb9rsf3q2rxaw0jban9jqbinh0v6-perl-LWP-MediaTypes-6.02\r\n  /nix/store/vs091h9m987lcdqili0qmxchk1pw5329-zlib-1.2.11-dev\r\n  /nix/store/vx7x6j9qy1mxj6b8p7143yfkp2wipwfq-perl-HTML-Parser-3.72\r\n  /nix/store/zxcg1wqr18qz42m9jx9dixzfx558nl8c-perl-HTTP-Message-6.16\r\ncopying path '/nix/store/12s27v3lvvg8dy43gnrwlykn2n6i4i1r-gmp-6.1.2-info' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/35v3v6rc0vcichqs8dsxg5h8blanj3kq-ghc-8.0.2' from 'https://cache.nixos.org'...\r\nerror: out of memory\r\nmake: *** [Makefile:8: test] Error 1\r\n```\r\n\r\nI'm using a `stack` binary from running `stack upgrade`:\r\n```\r\n% which stack\r\n~/.local/bin/stack\r\n% stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\nAlso, Nix is latest:\r\n```\r\n% nix --version    \r\nnix (Nix) 2.0.1\r\n```\r\n\r\nThe Nix author seems to think this is expected (https://github.com/NixOS/nixpkgs/issues/38635). If that's the case, is there a workaround in stack?"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4009",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4009/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4009/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4009/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4009",
    "id": 320352675,
    "number": 4009,
    "title": "Building Main/StackSetupShim triggers un-silenceable -nopie warnings with clang",
    "user": {
      "login": "patrickt",
      "id": 2498,
      "avatar_url": "https://avatars2.githubusercontent.com/u/2498?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/patrickt",
      "html_url": "https://github.com/patrickt",
      "followers_url": "https://api.github.com/users/patrickt/followers",
      "following_url": "https://api.github.com/users/patrickt/following{/other_user}",
      "gists_url": "https://api.github.com/users/patrickt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/patrickt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/patrickt/subscriptions",
      "organizations_url": "https://api.github.com/users/patrickt/orgs",
      "repos_url": "https://api.github.com/users/patrickt/repos",
      "events_url": "https://api.github.com/users/patrickt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/patrickt/received_events",
      "type": "User",
      "site_admin": true
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-05-04T17:10:45Z",
    "updated_at": "2018-05-18T21:49:09Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "### General summary/comments\r\n\r\nIn attempting to upgrade a library ([haskell-tree-sitter](https://github.com/tree-sitter/haskell-tree-sitter/)) to a newer Stackage nightly (`nightly-2018-05-04`, for GHC 8.4, but `nightly-2018-04-25` exhibits this problem too), the build process (with a custom Setup.hs) always generates the following errors from clang:\r\n\r\n```\r\nhaskell-tree-sitter-0.1.0: configure (lib)\r\n[1 of 2] Compiling Main             ( /Users/patrickt/src/haskell-tree-sitter/Setup.hs, /Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup/Main.o )\r\n[2 of 2] Compiling StackSetupShim   ( /Users/patrickt/.stack/setup-exe-src/setup-shim-mPHDZzAJ.hs, /Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup/StackSetupShim.o )\r\nLinking /Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup/setup ...\r\nclang: warning: argument unused during compilation: '-nopie' [-Wunused-command-line-argument]\r\nclang: warning: argument unused during compilation: '-nopie' [-Wunused-command-line-argument]\r\n```\r\n\r\nThese errors also appear when compiling dependent C code in the project itself; I was able to fix them with the following stanza in my stack.yaml:\r\n\r\n```\r\napply-ghc-options: everything\r\nghc-options:\r\n  $everything: -optc -Wno-unused-command-line-argument\r\n```\r\n\r\nHowever, I'm unable to figure out how to silence these warnings when building the `setup` executable. Adding a `GHC_OPTIONS` stanza to my `Setup.hs` did not work, nor did adding `ccOptions = \"-Wno-unused-command-line-argument\"` to my Setup.hs's `libBuildInfo`. Short of editing `~/.stack/programs/x86_64-osx/ghc-8.4.1/lib/ghc-8.4.1/settings` on every machine we use, is there a way to silence these warnings? This makes upgrading to 8.4 a tricky proposition.\r\n\r\nI am running macOS 10.13.4 with stack 1.7.1. The output of `clang --version` is\r\n\r\n```\r\nApple LLVM version 9.1.0 (clang-902.0.39.1)\r\nTarget: x86_64-apple-darwin17.5.0\r\nThread model: posix\r\nInstalledDir: /Library/Developer/CommandLineTools/usr/bin\r\n```\r\n\r\nRunning with `--verbose` seems to indicate that the command producing these warnings is\r\n\r\n`2018-05-04 12:46:29.295442: [debug] Run process: /Users/patrickt/.stack/programs/x86_64-osx/ghc-8.4.2/bin/ghc-8.4.2 --make -odir /Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup -hidir /Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup -i -i. -clear-package-db -global-package-db -package-db=/Users/patrickt/.stack/snapshots/x86_64-osx/nightly-2018-04-25/8.4.2/pkgdb -package-db=/Users/patrickt/src/haskell-tree-sitter/.stack-work/install/x86_64-osx/nightly-2018-04-25/8.4.2/pkgdb -hide-all-packages -package-id=Cabal-2.2.0.1 -package-id=base-4.11.1.0 -package-id=directory-1.3.1.5 -package-id=process-1.6.3.0 -optP-include -optP/Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup/setup_macros.h /Users/patrickt/src/haskell-tree-sitter/Setup.hs /Users/patrickt/.stack/setup-exe-src/setup-shim-mPHDZzAJ.hs -main-is StackSetupShim.mainOverride -o /Users/patrickt/src/haskell-tree-sitter/.stack-work/dist/x86_64-osx/Cabal-2.2.0.1/setup/setup -threaded`\r\n\r\n### Steps to reproduce\r\n\r\n1. Check out `git@github.com:tree-sitter/haskell-tree-sitter.git`\r\n2. Switch to the `tentative-8.4-upgrade` branch\r\n4. Run `script/bootstrap` to fetch submodules\r\n4. Run `stack build`\r\n\r\n### Expected\r\n\r\nA clean build free of C errors.\r\n\r\n### Actual\r\n\r\nSeemingly-unsilenceable errors from `clang`.\r\n\r\n### Stack version\r\n\r\n```\r\n$ stack --version\r\nVersion 1.7.1, Git revision 681c800873816c022739ca7ed14755e85a579565 (5807 commits) x86_64 hpack-0.28.2\r\n```\r\n\r\n### Method of installation\r\n\r\n* Official binary, downloaded from stackage.org or fpcomplete's package repository, and `stack upgrade` since.\r\n\r\nEDIT: fixed repository link"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4008",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4008/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4008/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4008/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4008",
    "id": 320097841,
    "number": 4008,
    "title": "hpack regression: null keys in package.yaml break builds",
    "user": {
      "login": "tejon",
      "id": 3770453,
      "avatar_url": "https://avatars2.githubusercontent.com/u/3770453?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tejon",
      "html_url": "https://github.com/tejon",
      "followers_url": "https://api.github.com/users/tejon/followers",
      "following_url": "https://api.github.com/users/tejon/following{/other_user}",
      "gists_url": "https://api.github.com/users/tejon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tejon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tejon/subscriptions",
      "organizations_url": "https://api.github.com/users/tejon/orgs",
      "repos_url": "https://api.github.com/users/tejon/repos",
      "events_url": "https://api.github.com/users/tejon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tejon/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-03T22:11:46Z",
    "updated_at": "2018-05-03T22:11:46Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "Empty keys in package.yaml used to be fine, now they cause the build to fail. Trivial example:\r\n```yaml\r\nlicense:\r\n# Error while parsing $.license - expected String, encountered Null\r\n```\r\nThis applies to nested keys as well.\r\n\r\nNot sure exactly when this happened; I've been using 1.6.1 locally, but the Heroku buildpack pulled in 1.7.1 and everything exploded. This is an upstream issue, but it breaks `stack` and can be fixed by constraining the dependency."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4006",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4006/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4006/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4006/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4006",
    "id": 319802389,
    "number": 4006,
    "title": "SDist code deling with custom-setup incorrect",
    "user": {
      "login": "afcowie",
      "id": 1088511,
      "avatar_url": "https://avatars0.githubusercontent.com/u/1088511?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/afcowie",
      "html_url": "https://github.com/afcowie",
      "followers_url": "https://api.github.com/users/afcowie/followers",
      "following_url": "https://api.github.com/users/afcowie/following{/other_user}",
      "gists_url": "https://api.github.com/users/afcowie/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/afcowie/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/afcowie/subscriptions",
      "organizations_url": "https://api.github.com/users/afcowie/orgs",
      "repos_url": "https://api.github.com/users/afcowie/repos",
      "events_url": "https://api.github.com/users/afcowie/events{/privacy}",
      "received_events_url": "https://api.github.com/users/afcowie/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-03T06:37:58Z",
    "updated_at": "2018-05-03T06:37:58Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "When uploading **http-streams** using `stack upload .` (ie the `sdist` step) I get the following warning:\r\n```\r\nWarning: In getPackageArgs: custom-setup in use, but no dependency map present\r\nCould not find custom-setup dep: Cabal\r\nCould not find custom-setup dep: base\r\n```\r\n\r\nwhich is weird because the [.cabal](https://github.com/afcowie/http-streams/blob/master/http-streams.cabal#L43) file in question has what I was told to put there previously:\r\n\r\n```\r\n...\r\ncustom-setup\r\n  setup-depends:     base >= 4.5,\r\n                     Cabal >= 1.24\r\n\r\n...\r\n```\r\n\r\nI asked in the Haskell channel at work and the epic @SamRoberts read through the **stack** code and in short order found the message is emitted from [Execute.hs](https://github.com/commercialhaskell/stack/blob/master/src/Stack/Build/Execute.hs#L1039)'s  function `withSingleContext`. Its fourth argument is a Maybe (Map something something). \r\n\r\nThis appears to be called from [SDist.hs](https://github.com/commercialhaskell/stack/blob/master/src/Stack/SDist.hs#L333) where the fourth argument is hard coded to `Nothing`. Hence warning.\r\n\r\nSeems either the `Nothing` is wrong and we need to pass in the custom-setup (?) map or the warning code needs to know that it's not going to actually get a map and not warn.\r\n\r\nAfC\r\n\r\n_feel free to change the issue title to something more helpful_"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4005",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4005/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4005/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4005/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4005",
    "id": 319721762,
    "number": 4005,
    "title": "ghc installation failure should show verbose output",
    "user": {
      "login": "gregwebs",
      "id": 1183,
      "avatar_url": "https://avatars2.githubusercontent.com/u/1183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gregwebs",
      "html_url": "https://github.com/gregwebs",
      "followers_url": "https://api.github.com/users/gregwebs/followers",
      "following_url": "https://api.github.com/users/gregwebs/following{/other_user}",
      "gists_url": "https://api.github.com/users/gregwebs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gregwebs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gregwebs/subscriptions",
      "organizations_url": "https://api.github.com/users/gregwebs/orgs",
      "repos_url": "https://api.github.com/users/gregwebs/repos",
      "events_url": "https://api.github.com/users/gregwebs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gregwebs/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-02T21:39:39Z",
    "updated_at": "2018-05-02T21:39:39Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "body": "I have a project with docker enabled. Someone tried to build it on Mac (with the latest OS X stack release), and it did not. The reason may be the open file limit on docker. But we had no way to figure out the issue until after running again with the `--verbose` flag. My suggestion is that if the GHC install fails the log from the GHC build (or the stack `--verbose` log) should be either output to the terminal or the location of that log should be output to the terminal."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4002",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4002/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4002/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4002/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4002",
    "id": 319507695,
    "number": 4002,
    "title": "stack does not honor --no-nix under NixOS",
    "user": {
      "login": "MartinPotier",
      "id": 33028900,
      "avatar_url": "https://avatars1.githubusercontent.com/u/33028900?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MartinPotier",
      "html_url": "https://github.com/MartinPotier",
      "followers_url": "https://api.github.com/users/MartinPotier/followers",
      "following_url": "https://api.github.com/users/MartinPotier/following{/other_user}",
      "gists_url": "https://api.github.com/users/MartinPotier/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MartinPotier/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MartinPotier/subscriptions",
      "organizations_url": "https://api.github.com/users/MartinPotier/orgs",
      "repos_url": "https://api.github.com/users/MartinPotier/repos",
      "events_url": "https://api.github.com/users/MartinPotier/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MartinPotier/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 3,
    "created_at": "2018-05-02T11:04:03Z",
    "updated_at": "2018-05-07T23:07:21Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "Commit b60819cbe9dc5e97cdc3771a0fb538d21ab190d2 introduces the Note: Enabling Nix integration, as it is required under NixOS. Sometimes you *don't* want to use nix mode, especially when using the docker integration at the same time for producing binaries for other architectures.\r\n\r\n### Steps to reproduce\r\nrun stack --no-nix under NixOS, watch the message Note: Enabling Nix integration, as it is required under NixOS.\r\n\r\n### Expected\r\nDon't use nix integration when --no-nix is set\r\n\r\nIt's real bad. Right now I have to revert since the build toolchain is broken because of stack.\r\n\r\n### Version\r\n```\r\nVersion 1.7.1 x86_64\r\nCompiled with:\r\n- Cabal-2.2.0.1\r\n- Glob-0.9.2\r\n- HUnit-1.6.0.0\r\n- QuickCheck-2.10.1\r\n- StateVar-1.1.1.0\r\n- aeson-1.2.4.0\r\n- aeson-compat-0.3.7.1\r\n- annotated-wl-pprint-0.7.0\r\n- ansi-terminal-0.8.0.2\r\n- ansi-wl-pprint-0.6.8.2\r\n- array-0.5.2.0\r\n- asn1-encoding-0.9.5\r\n- asn1-parse-0.9.4\r\n- asn1-types-0.3.2\r\n- async-2.1.1.1\r\n- attoparsec-0.13.2.2\r\n- attoparsec-iso8601-1.0.0.0\r\n- auto-update-0.1.4\r\n- base-4.10.1.0\r\n- base-compat-0.9.3\r\n- base-orphans-0.7\r\n- base-prelude-1.2.0.1\r\n- base16-bytestring-0.1.1.6\r\n- base64-bytestring-1.0.0.1\r\n- basement-0.0.7\r\n- bifunctors-5.5.2\r\n- binary-0.8.5.1\r\n- bindings-uname-0.1\r\n- bitarray-0.0.1.1\r\n- blaze-builder-0.4.1.0\r\n- blaze-html-0.9.0.1\r\n- blaze-markup-0.8.2.1\r\n- byteable-0.1.1\r\n- bytestring-0.10.8.2\r\n- call-stack-0.1.0\r\n- case-insensitive-1.2.0.11\r\n- cereal-0.5.5.0\r\n- clock-0.7.2\r\n- colour-2.3.4\r\n- comonad-5.0.3\r\n- conduit-1.3.0.2\r\n- conduit-extra-1.3.0\r\n- connection-0.2.8\r\n- containers-0.5.10.2\r\n- contravariant-1.4.1\r\n- cookie-0.4.4\r\n- cpphs-1.20.8\r\n- cryptohash-0.11.9\r\n- cryptohash-sha256-0.11.101.0\r\n- cryptonite-0.25\r\n- cryptonite-conduit-0.2.2\r\n- data-default-class-0.1.2.0\r\n- deepseq-1.4.3.0\r\n- digest-0.0.1.2\r\n- directory-1.3.0.2\r\n- distributive-0.5.3\r\n- dlist-0.8.0.4\r\n- easy-file-0.2.1\r\n- echo-0.1.3\r\n- ed25519-0.0.5.0\r\n- either-5\r\n- exceptions-0.8.3\r\n- extra-1.6.6\r\n- fail-4.9.0.0\r\n- fast-logger-2.4.11\r\n- file-embed-0.0.10.1\r\n- filelock-0.1.1.2\r\n- filepath-1.4.1.2\r\n- foundation-0.0.20\r\n- free-5.0.1\r\n- fsnotify-0.2.1.1\r\n- generic-deriving-1.12.1\r\n- ghc-boot-th-8.2.2\r\n- ghc-prim-0.5.1.1\r\n- gitrev-1.3.1\r\n- hackage-security-0.5.3.0\r\n- hashable-1.2.7.0\r\n- haskell-src-exts-1.20.2\r\n- haskell-src-meta-0.8.0.2\r\n- hinotify-0.3.9\r\n- hourglass-0.2.11\r\n- hpack-0.28.2\r\n- hpc-0.6.0.3\r\n- hspec-2.4.8\r\n- hspec-core-2.4.8\r\n- hspec-discover-2.4.8\r\n- hspec-expectations-0.8.2\r\n- hspec-smallcheck-0.5.0\r\n- http-api-data-0.3.7.2\r\n- http-client-0.5.12.1\r\n- http-client-tls-0.3.5.3\r\n- http-conduit-2.3.1\r\n- http-types-0.12.1\r\n- integer-gmp-1.0.1.0\r\n- integer-logarithms-1.0.2.1\r\n- lifted-base-0.2.3.12\r\n- logict-0.6.0.2\r\n- memory-0.14.16\r\n- microlens-0.4.8.3\r\n- microlens-th-0.4.1.3\r\n- mime-types-0.1.0.7\r\n- mintty-0.1.1\r\n- monad-control-1.0.2.3\r\n- monad-logger-0.3.28.5\r\n- monad-loops-0.4.3\r\n- mono-traversable-1.0.8.1\r\n- mtl-2.2.2\r\n- mustache-2.3.0\r\n- neat-interpolation-0.3.2.1\r\n- network-2.6.3.5\r\n- network-uri-2.6.1.0\r\n- old-locale-1.0.0.7\r\n- old-time-1.1.0.3\r\n- open-browser-0.2.1.0\r\n- optparse-applicative-0.14.2.0\r\n- optparse-simple-0.1.0\r\n- parsec-3.1.13.0\r\n- path-0.6.1\r\n- path-io-1.3.3\r\n- path-pieces-0.2.1\r\n- pem-0.2.4\r\n- persistent-2.8.2\r\n- persistent-sqlite-2.8.1.2\r\n- persistent-template-2.5.4\r\n- polyparse-1.12\r\n- pretty-1.1.3.3\r\n- primitive-0.6.3.0\r\n- process-1.6.1.0\r\n- profunctors-5.2.2\r\n- project-template-0.2.0.1\r\n- quickcheck-io-0.2.0\r\n- random-1.1\r\n- regex-applicative-0.3.3\r\n- regex-applicative-text-0.1.0.1\r\n- resource-pool-0.2.3.2\r\n- resourcet-1.2.1\r\n- retry-0.7.6.2\r\n- rio-0.1.1.0\r\n- rts-1.0\r\n- safe-0.3.17\r\n- scientific-0.3.5.3\r\n- semigroupoids-5.2.2\r\n- semigroups-0.18.4\r\n- setenv-0.1.1.3\r\n- silently-1.2.5\r\n- smallcheck-1.1.3.1\r\n- socks-0.5.6\r\n- split-0.2.3.3\r\n- stm-2.4.5.0\r\n- stm-chans-3.0.0.4\r\n- store-0.4.3.2\r\n- store-core-0.4.1\r\n- streaming-commons-0.1.19\r\n- syb-0.7\r\n- tagged-0.8.5\r\n- tar-0.5.1.0\r\n- template-haskell-2.12.0.0\r\n- temporary-1.2.1.1\r\n- text-1.2.3.0\r\n- text-metrics-0.3.0\r\n- tf-random-0.5\r\n- th-abstraction-0.2.6.0\r\n- th-expand-syns-0.4.4.0\r\n- th-lift-0.7.8\r\n- th-lift-instances-0.1.11\r\n- th-orphans-0.13.5\r\n- th-reify-many-0.1.8\r\n- th-utilities-0.2.0.1\r\n- time-1.8.0.2\r\n- time-locale-compat-0.1.1.4\r\n- tls-1.4.1\r\n- transformers-0.5.2.0\r\n- transformers-base-0.4.4\r\n- transformers-compat-0.5.1.4\r\n- typed-process-0.2.2.0\r\n- unicode-transforms-0.3.4\r\n- unix-2.7.2.2\r\n- unix-compat-0.5.0.1\r\n- unix-time-0.3.8\r\n- unliftio-0.2.6.0\r\n- unliftio-core-0.1.1.0\r\n- unordered-containers-0.2.9.0\r\n- uri-bytestring-0.3.1.1\r\n- uuid-types-1.0.3\r\n- vector-0.12.0.1\r\n- vector-algorithms-0.7.0.1\r\n- void-0.7.2\r\n- x509-1.7.3\r\n- x509-store-1.6.6\r\n- x509-system-1.6.6\r\n- x509-validation-1.6.10\r\n- yaml-0.8.29\r\n- zip-archive-0.3.2.4\r\n- zlib-0.6.2\r\n\r\nWarning: this is an unsupported build that may use different versions of\r\ndependencies and GHC than the officially released binaries, and therefore may\r\nnot behave identically.  If you encounter problems, please try the latest\r\nofficial build by running 'stack upgrade --force-download'.\r\n```"
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/4000",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4000/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4000/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/4000/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/4000",
    "id": 319483263,
    "number": 4000,
    "title": "Windows installer not signed",
    "user": {
      "login": "letmaik",
      "id": 530988,
      "avatar_url": "https://avatars1.githubusercontent.com/u/530988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/letmaik",
      "html_url": "https://github.com/letmaik",
      "followers_url": "https://api.github.com/users/letmaik/followers",
      "following_url": "https://api.github.com/users/letmaik/following{/other_user}",
      "gists_url": "https://api.github.com/users/letmaik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/letmaik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/letmaik/subscriptions",
      "organizations_url": "https://api.github.com/users/letmaik/orgs",
      "repos_url": "https://api.github.com/users/letmaik/repos",
      "events_url": "https://api.github.com/users/letmaik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/letmaik/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 1,
    "created_at": "2018-05-02T09:43:14Z",
    "updated_at": "2018-05-02T14:06:10Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "The pre-built Windows installer is currently not signed which flags up in Windows Defender and requires to confirm an exception.\r\nTo create more trust in the binaries it would be good if they could be signed using a certificate (not self-signed)."
  },
  {
    "url": "https://api.github.com/repos/commercialhaskell/stack/issues/3999",
    "repository_url": "https://api.github.com/repos/commercialhaskell/stack",
    "labels_url": "https://api.github.com/repos/commercialhaskell/stack/issues/3999/labels{/name}",
    "comments_url": "https://api.github.com/repos/commercialhaskell/stack/issues/3999/comments",
    "events_url": "https://api.github.com/repos/commercialhaskell/stack/issues/3999/events",
    "html_url": "https://github.com/commercialhaskell/stack/issues/3999",
    "id": 319201226,
    "number": 3999,
    "title": "Upgrade to v1.7.1 fails on NixOS 18.03",
    "user": {
      "login": "mmzx",
      "id": 1039486,
      "avatar_url": "https://avatars3.githubusercontent.com/u/1039486?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mmzx",
      "html_url": "https://github.com/mmzx",
      "followers_url": "https://api.github.com/users/mmzx/followers",
      "following_url": "https://api.github.com/users/mmzx/following{/other_user}",
      "gists_url": "https://api.github.com/users/mmzx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mmzx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mmzx/subscriptions",
      "organizations_url": "https://api.github.com/users/mmzx/orgs",
      "repos_url": "https://api.github.com/users/mmzx/repos",
      "events_url": "https://api.github.com/users/mmzx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mmzx/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [

    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [

    ],
    "milestone": null,
    "comments": 0,
    "created_at": "2018-05-01T13:43:48Z",
    "updated_at": "2018-05-01T13:43:48Z",
    "closed_at": null,
    "author_association": "NONE",
    "body": "shell> stack upgrade\r\n\r\n> Current Stack version: 1.6.5, available download version: 1.7.1\r\n> Newer version detected, downloading\r\n> Querying for archive location for platform: linux-x86_64-static\r\n> Querying for archive location for platform: linux-x86_64\r\n> Downloading from: https://github.com/commercialhaskell/stack/releases/download/v1.7.1/stack-1.7.1-linux-x86_64.tar.gz\r\n> Download complete, testing executable\r\n> \r\n> Warning: Exception occured when trying to perform binary upgrade: /home/makos/.local/bin/stack.tmp: rawSystem: runInteractiveProcess: exec: does not exist (No such file or directory) \r\n>          Falling back to source upgrade\r\n> Selected mirror https://s3.amazonaws.com/hackage.fpcomplete.com/                                 \r\n> Downloading timestamp                                                                            \r\n> No updates to your package index were found                                                      \r\n> Update complete                                                                                  \r\n> Preparing to install GHC to an isolated location.\r\n> This will not interfere with any system-level installation.\r\n> Preparing to download ghc-8.2.2 ...^C\r\n\r\nI do confirm ~/.local/bin/stack.tmp exists. Unfortunately source upgrade also fails. Please help me how to unfold it! "
  }
]